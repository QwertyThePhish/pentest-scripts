#exif data
import pyfiglet
from colorama import Fore, Back, Style
from PIL import Image
from PIL.ExifTags import TAGS
import os, os.path

ascii_banner =pyfiglet.figlet_format("Exif Data Extractor")
print(ascii_banner)

#images load
img_list:list = []
path = "images"
valid_images =  [".jpg", ".gif", ".png", ".tga"]

#check for each image in the directory
for f in os.listdir(path):
    
    ext = os.path.splitext(f)[1]
    if ext.lower() not in valid_images:
        continue
    img_list.append(Image.open(os.path.join(path, f)))

#extracting the exif metadata
for image in img_list:

    exifdata = image.getexif()

    for tagid in exifdata:
        tagname = TAGS.get(tagid, tagid)

        value = exifdata.get(tagid)

        print(Fore.GREEN + f"{tagname:25}: {value}")

    if exifdata:
        print(Fore.GREEN + "<<<<Metadata Found!>>>>")
    else:
        print(Fore.RED + "<<<<Metadata not found!>>>>")